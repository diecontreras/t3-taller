(this.webpackJsonptry2=this.webpackJsonptry2||[]).push([[0],{48:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),a=n(23),i=n.n(a),r=(n(55),n(56),n(17)),o=n(13),j=n(15),u=(n(48),n(0)),l=Object(j.io)("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl/",{path:"/flights"});var b=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),i=Object(o.a)(a,2),j=i[0],b=i[1],O=Object(c.useState)(""),d=Object(o.a)(O,2),h=d[0],p=d[1];return Object(c.useEffect)((function(){return l.on("CHAT",(function(e){n.push(e),s((function(t){return[].concat(Object(r.a)(t),[e])}))})),function(){return l.disconnect()}}),[]),Object(u.jsxs)("div",{className:"chat",children:[Object(u.jsxs)("div",{className:"chat-window",children:[Object(u.jsx)("h3",{children:"Mensajes Recibidos"}),n.map((function(e,t){return function(e,t){var n=new Date(e.date).toLocaleString();return console.log(n),Object(u.jsxs)("div",{children:[" ",n," ",e.name,": ",e.message]},t)}(e,t)}))]}),Object(u.jsxs)("div",{className:"chat-inputs",children:[Object(u.jsx)("input",{type:"text",className:"name",value:h,placeholder:"Elige un nombre",onChange:function(e){return p(e.target.value)}}),Object(u.jsx)("input",{type:"text",className:"message",value:j,placeholder:"Escribe algo...",onChange:function(e){return b(e.target.value)}}),Object(u.jsx)("button",{onClick:function(){l.emit("CHAT",{name:h,message:j})},children:"Enviar"})]})]})},O=n(28),d=n(94),h=n(93),p=n(96),f=n(95),x=n(97),m=Object(j.io)("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl/",{path:"/flights"});var v=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)({}),i=Object(o.a)(a,2),j=i[0],l=i[1],b=Object(c.useState)({}),v=Object(o.a)(b,2),g=v[0],N=v[1];return Object(c.useEffect)((function(){return m.on("POSITION",(function(e){N((function(t){var n=Object(O.a)({},t);return n[e.code]=e.position,n})),l((function(t){var n=Object(O.a)({},t);return n[e.code]=t[e.code]?[].concat(Object(r.a)(t[e.code]),[e.position]):[e.position],Object(O.a)({},n)}))})),function(){return m.disconnect()}}),[]),Object(c.useEffect)((function(){return m.on("FLIGHTS",(function(e){s((function(t){return[].concat(Object(r.a)(t),Object(r.a)(e))}))})),m.emit("FLIGHTS"),function(){return m.disconnect()}}),[]),Object(u.jsxs)("div",{className:"mapa",children:[Object(u.jsx)("h2",{children:"Mapa"}),Object(u.jsxs)(f.a,{center:[20,0],zoom:1.5,children:[Object(u.jsx)(x.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),n.map((function(e,t){return function(e,t){var n=[e.origin,e.destination];return Object(u.jsx)(d.a,{pathOptions:{color:"black"},positions:n},t)}(e,t)})),Object.keys(g).map((function(e){return t=e,Object(u.jsx)(h.a,{position:g[t],children:Object(u.jsx)(p.a,{children:t})},t);var t})),Object.keys(j).map((function(e){return function(e,t){var n=j[e];return Object(u.jsx)(d.a,{pathOptions:{color:"red"},positions:n},t)}(e)}))]})]})},g=Object(j.io)("wss://tarea-3-websocket.2021-1.tallerdeintegracion.cl/",{path:"/flights"});var N=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],s=t[1];function a(e,t){return Object(u.jsxs)("div",{className:"airplane-container",children:[Object(u.jsxs)("p",{children:["Aerol\xednea: ",e.airline]}),Object(u.jsxs)("p",{children:["Vuelo: ",e.code]}),Object(u.jsxs)("p",{children:["Origen: ",e.origin[0],", ",e.origin[1]]}),Object(u.jsxs)("p",{children:["Destino: ",e.destination[0],", ",e.destination[1]]}),Object(u.jsxs)("p",{children:["Avi\xf3n: ",e.plane]}),Object(u.jsxs)("p",{children:["Cantidad de asientos: ",e.seats]}),e.passengers.map((function(e,t){return n=e,c=t,Object(u.jsxs)("div",{className:"pipul",children:[" ",c+1,".- ",n.name]});var n,c}))]})}return Object(c.useEffect)((function(){return g.on("FLIGHTS",(function(e){s(e)})),function(){return g.disconnect()}}),[]),Object(u.jsxs)("div",{className:"info",children:[Object(u.jsx)("h2",{children:"Info Aviones"}),Object(u.jsx)("button",{className:"boton",onClick:function(){g.emit("FLIGHTS")},children:" Obtener Info"}),n.map((function(e,t){return a(e)}))]})};var S=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("header",{className:"App-header",children:[Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"map-container",children:Object(u.jsx)(v,{})}),Object(u.jsx)("div",{className:"info-container",children:Object(u.jsx)(N,{})})]}),Object(u.jsx)("div",{className:"chat-container",children:Object(u.jsx)(b,{})})]}),Object(u.jsx)("footer",{className:"footer"})]})};i.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(S,{})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.95476a68.chunk.js.map